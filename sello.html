<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sellos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: "Inter", sans-serif;
            padding: 20px;
            background: #f4f8f9;
            color: #333;
        }
        h1 {
            font-size: x-large !important; 
            font-size: 3.5rem;
            font-weight: 700;
            text-align: center;
        margin-bottom: 20px !important; 
            background: linear-gradient(45deg, #2a6a79, #5eb8b4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
            padding-bottom: 10px;
            position: relative;
        }
        h1::after {
            content: '';
            position: absolute;
            display: block;
            width: 100px;
            height: 4px;
            background: linear-gradient(45deg, #2a6a79, #5eb8b4);
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
        }
        .menu {
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        .menu button {
            padding: 12px 20px;
            border: none;
            background-color: #2a6a79;
            color: white;
            cursor: pointer;
            border-radius: 8px;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .menu button:hover {
            background-color: #1d4d5d;
            transform: translateY(-2px);
        }
        .menu button.active {
            background-color: #1d4d5d;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2) inset;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            margin-top: 20px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden; /* Ensure rounded corners apply to table content */
        }
        th, td {
            padding: 15px;
            border: 1px solid #e0e0e0;
            text-align: center;
            white-space: nowrap;
            font-size: 0.95rem;
        }
        th {
            background-color: #2a6a79;
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .completado {
            background-color: #d4edda; /* Light green */
            color: #28a745; /* Darker green */
            font-weight: bold;
        }
        .falta {
            background-color: #f8d7da; /* Light red */
            color: #dc3545; /* Darker red */
            font-weight: bold;
        }
        .form-container {
            margin-top: 30px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            padding: 20px;
            background-color: #e9f3f6;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }
        input[type="text"], input[type="number"] {
            padding: 10px 15px;
            border: 1px solid #ccc;
            border-radius: 6px;
            flex: 1;
            min-width: 150px;
            font-size: 1rem;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.06);
        }
        input[type="number"][readonly] {
            background-color: #e9ecef;
            cursor: not-allowed;
        }
        button.agregar {
            padding: 10px 25px;
            background-color: #28a745; /* Green for add button */
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 6px;
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        button.agregar:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            h1 {
                font-size: 2rem;
            }
            .menu {
                flex-direction: column;
                align-items: stretch;
            }
            .menu button {
                width: 100%;
            }
            .form-container {
                flex-direction: column;
                align-items: stretch;
            }
            input[type="text"], input[type="number"], button.agregar {
                width: 100%;
                min-width: unset;
            }
            table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
            thead, tbody, th, td, tr {
                display: block;
            }
            thead tr {
                position: absolute;
                top: -9999px;
                left: -9999px;
            }
            tr {
                border: 1px solid #ccc;
                margin-bottom: 10px;
                border-radius: 8px;
                overflow: hidden;
            }
            td {
                border: none;
                position: relative;
                padding-left: 50%;
                text-align: right;
            }
            td:before {
                content: attr(data-label);
                position: absolute;
                left: 6px;
                width: 45%;
                padding-right: 10px;
                white-space: nowrap;
                text-align: left;
                font-weight: bold;
                color: #555;
            }
            /* Specific labels for mobile view */
            td:nth-of-type(1):before { content: "Nombre:"; }
            td:nth-of-type(2):before { content: "Obtenida:"; }
            td:nth-of-type(3):before { content: "Max:"; }
            td:nth-of-type(4):before { content: "Faltante:"; }
            td:nth-of-type(5):before { content: "¿Completada?:"; }
            td:nth-of-type(6):before { content: "Bonus:"; }
            td:nth-of-type(7):before { content: "Valor Único:"; }
            td:nth-of-type(8):before { content: "Valor Obtenido:"; }
            td:nth-of-type(9):before { content: "Valor Faltante:"; }
        }
        .save-message {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .save-message.show {
            opacity: 0;
        }
    </style>
</head>
<body>

    <div id="saveMessage" class="save-message">Datos guardados</div>

    <h1>Sellos</h1>

    <div class="relative">
        <div class="menu" id="menuCategorias"></div>
        <div class="absolute right-0 top-1/2 -translate-y-1/2 hidden md:flex items-center pr-2">
            <span class="text-sm text-gray-700 font-semibold">
                Guía del Valor: <span class="font-normal">0.100 = 100B, 1 = 1M, 1000 = 1T</span>
            </span>
        </div>
    </div>

    <table id="tablaInventario">
        <thead>
            <tr>
                <th>Nombre del Sello</th>
                <th>Cantidad Obtenida</th>
                <th>Cantidad Max</th>
                <th>Cantidad Faltante</th>
                <th>¿Completada?</th>
                <th>Bonus Obtenido</th> <!-- Esta celda es editable -->
                <th>Valor Sello Único</th>
                <th>Valor Sellos Obtenido</th>
                <th>Valor Sellos Faltantes</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <div class="summary-container mt-8 p-4 bg-white rounded-lg shadow-md" style="display: none;">
        <h2 class="text-xl font-bold text-gray-700 mb-4 text-center" id="summaryTitle">Resumen</h2>
        <div id="categorySummary" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-center">
            <p><strong class="text-blue-700">Stats Máximo:</strong> <span id="summaryMaximum"></span></p>
            <p><strong class="text-green-700">Stats Obtenidos:</strong> <span id="summaryBonusTotal"></span></p>
            <p><strong class="text-yellow-700">Valor Total Obtenido:</strong> <span id="summaryValorObtenido"></span></p>
            <p><strong class="text-red-700">Valor Total Faltante:</strong> <span id="summaryValorFaltante"></span></p>
        </div>
    </div>

    <div class="form-container">
        <input type="text" id="nombreSello" placeholder="Nombre del Sello">
        <input type="number" id="nuevaCantidad" placeholder="Cantidad obtenida">
        <!-- Cantidad Max ahora es 3000 y de solo lectura -->
        <input type="number" id="nuevaMax" value="3000" readonly>
        <input type="number" id="valorSelloUnico" placeholder="Valor Sello Único (ej. 0.5)">
        <button class="agregar" onclick="agregarFila()">Agregar Sello</button>
    </div>

    <script>
        // Define las categorías disponibles para el inventario.
        const categorias = ["AT", "CT", "HT", "HP", "DS", "DE", "BL", "EV"];
        // Establece la categoría actual por defecto en "AT".
        let categoriaActual = "AT";

        // Define las reglas de bonus y la cantidad máxima para cada sello.
        // Las propiedades 'tiers' son los valores de bonus para cada rango.
        // Las propiedades 'ranges' son los límites inferiores de cada rango de cantidad.
        const sealBonusRules = {
            // AT Seals
            "Tanemon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Hawkmon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Guilmon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Patamon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Mushroomon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Monodramon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "PicoDevimon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Passionate": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Environment": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "New Semester": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Seal of Summer": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Aquilamon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Turuiemon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Shurimon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "BetelGammamon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "BlackGarurumon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Chrysalimon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Devimon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Greymon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "ExV-mon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Happy Christmas": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Blue Serpent": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Giromon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Cherrymon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "MarineDevimon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Myotismon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Piccolomon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "Culumon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Orochimon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Silphymon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Vegiemon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Qinglongmon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Examon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Omegamon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Dexmon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "VenomMyotismon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Megidramon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "10th Year Anniversary": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "11th Year Anniversary": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "12th Year Anniversary": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "13th Year Anniversary": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "ImperialDramon Fighter Mode": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 300
            },
            "Machinedramon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Chaosmon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "MirageGaogamon (Burst Mode)": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Boltboutamon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Alphamon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "CresGarurumon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "Imperialdramon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Siriusmon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Kuzuhamon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Omegamon X": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 150
            },
            "Gankoomon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "MetalGreymon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            // CT Seals
            "Koromon": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "PawnChessmon B": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Lucemon": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "Kunemon": {
                tiers: [0, 0.15, 0.3, 0.6, 0.9, 1.2, 1.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Sharmamon": {
                tiers: [0, 0.15, 0.3, 0.6, 0.9, 1.2, 1.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "CommanDramon": {
                tiers: [0, 0.15, 0.3, 0.6, 0.9, 1.2, 1.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Lalamon": {
                tiers: [0, 0.15, 0.3, 0.6, 0.9, 1.2, 1.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Conversion": {
                tiers: [0, 0.15, 0.3, 0.6, 0.9, 1.2, 1.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Hope": {
                tiers: [0, 0.15, 0.3, 0.6, 0.9, 1.2, 1.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Kyuubimon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Togemon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Tylomon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Gaogamon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                                max: 3000
            },
            "Last Seal of 2023": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Kiwimon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "KausGammamon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Datamon": {
                tiers: [0, 0.25, 0.5, 1.0, 1.5, 2.0, 2.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Volcamon": {
                tiers: [0, 0.25, 0.5, 1.0, 1.5, 2.0, 2.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Vajiramon": {
                tiers: [0, 0.25, 0.5, 1.0, 1.5, 2.0, 2.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "RizeGreymon": {
                tiers: [0, 0.25, 0.5, 1.0, 1.5, 2.0, 2.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Phantomon": {
                tiers: [0, 0.25, 0.5, 1.0, 1.5, 2.0, 2.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "MagnaAngemon": {
                tiers: [0, 0.25, 0.5, 1.0, 1.5, 2.0, 2.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "SaberLeomon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "MetalGarurumon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Jesmon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Alphamon (X-Antibody System)": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 300
            },
            "Mamemon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "BigMamemon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "AncientTroiamon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "Deltamon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "13th Anniversary CT": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "ChaosPiedmon": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "PrinceMamemon": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Ravemon (Burst Mode)": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "ShadowSeraphimon": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Shoutmon X7": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 400
            },
            "Omegamon Zwart": {
                tiers: [0, 0.4, 0.8, 1.6, 2.4, 3.2, 4],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Shoutmon X2": {
                tiers: [0, 0.4, 0.8, 1.6, 2.4, 3.2, 4],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Alphamon Ouryuken X": {
                tiers: [0, 0.4, 0.8, 1.6, 2.4, 3.2, 4],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 150
            },
            "Kuzuhamon Miko Mode": {
                tiers: [0, 0.4, 0.8, 1.6, 2.4, 3.2, 4],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Omegamon - Merciful Mode": {
                tiers: [0, 0.5, 1, 2, 3, 4, 5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 50
            },
            // HT Seals
            "Drimogemon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "FanBeemon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Gabumon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Floramon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Hackmon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Seal of Marksman": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Exploration Seal": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Brave Seal": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Sprout": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Gammamon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Coredramon (Blue)": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Dorugamon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "DarkTyrannomon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Witchmon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "GeoGreymon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Paildramon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "Tonosama Gekomon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Starmon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Garudamon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Knightmon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "BlackWereGarurumon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Crowmon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "MetalGreymon (Virus)": { // Renamed to avoid conflict with AT MetalGreymon
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Antylamon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Blossomon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Parasimon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "LordKnightmon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Beelzebumon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Rosemon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Magnadramon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 300
            },
            "Gryphonmon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "Duftmon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "Rafflesimon": {
                tiers: [0, 45, 90, 180, 270, 360, 450],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 400
            },
            "Baihumon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Craniamon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "TyrantKabuterimon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Belial Vamdemon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Apocalymon": {
                tiers: [0, 55, 110, 220, 330, 440, 550],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Alphamon Ouryuken": {
                tiers: [0, 55, 110, 220, 330, 440, 550],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 200
            },
            // HP Seals
            "Gazimon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Keramon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Tsunomon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Otamamon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Roachmon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Dokunemon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Veemon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Gaomon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Seal of heat": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Sincerity": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Grow Well": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Guardromon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Kentarumon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Soulmon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "ReptileDramon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Raremon (Champion)": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Ikkakumon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "SunFlowmon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Garurumon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Ogremon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Kokuwamon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Sinduramon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "SkullSatamon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Whamon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Angewomon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "Seadramon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Pumpkinmon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "DexDoruGreymon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "13th Anniversary HP": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Sakuyamon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Valdurmon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 300
            },
            "Boltmon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "Cherubimon (White)": {
                tiers: [0, 40, 80, 160, 240, 320, 450],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 300
            },
            "Ebonwumon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "UlforceVeedramon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "WarGreymon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Lucemon (Satan Mode)": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "BanchouLeomon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "MetalSeadramon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "ShineGreymon (Burst Mode)": {
                tiers: [0, 55, 110, 220, 330, 440, 550],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Susanoomon": {
                tiers: [0, 60, 120, 240, 360, 480, 600],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Omegamon Alter-S": {
                tiers: [0, 60, 120, 240, 360, 480, 600],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            // DS Seals
            "DemiMeramon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Agumon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Candlemon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "ToyAgumon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Dorumon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Piyomon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Gladimon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Heat Wave": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Happiness": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Gekomon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Betamon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Coredramon (Green)": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Woodmon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Gesomon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Kabuterimon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Yukidarumon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Mikemon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Peckmon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Angemon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Gawappamon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Kudamon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "Psychemon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Bakemon": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "13th Anniversary DS": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Wizardmon": {
                tiers: [0, 35, 70, 140, 210, 280, 350],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Toucanmon": {
                tiers: [0, 35, 70, 140, 210, 280, 350],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Asuramon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "SkullGreymon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "WereGarurumon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "MachGaogamon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Tyilinmon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "Taomon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "Baalmon": {
                tiers: [0, 40, 80, 160, 240, 320, 400],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Diablomon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Puppetmon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Piedmon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "GrandisKuwagamon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Anubismon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 300
            },
            "Lotusmon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "Plesiomon": {
                tiers: [0, 50, 100, 200, 300, 400, 500],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "Zhuqiaomon": {
                tiers: [0, 60, 120, 240, 360, 480, 600],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            // DE Seals
            "Upamon": {
                tiers: [0, 8, 16, 32, 48, 64, 80],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Elecmon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Goblimon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Renamon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Kamemon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Syakomon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Palmon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Armor": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Salamon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "PawnChessmon W": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Icemon": {
                tiers: [0, 10, 20, 40, 60, 80, 100],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Flymon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Leomon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Meramon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Rockmon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Monochromon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Ankylomon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Shellmon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Thunderballmon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "BaoHackmon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Mojyamon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 0
            },
            "Labramon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "Gotsumon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Flybeemon": {
                tiers: [0, 15, 30, 60, 90, 120, 150],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Meteormon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "WaruMonzaemon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "MetalTyrannomon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "JewelBeemon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "SuperStarmon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "OmegaShoutmon": {
                tiers: [0, 20, 40, 80, 120, 160, 200],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "Chimairamon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Sleipmon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "HerculesKabuterimon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Seraphimon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 300
            },
            "JumboGamemon": {
                tiers: [0, 25, 50, 100, 150, 200, 250],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "Shoutmon DX": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 400
            },
            "13th Anniversary DE": {
                tiers: [0, 30, 60, 120, 180, 240, 300],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            // BL Seals
            "Dracmon": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Tentomon": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Agumon (Starter)": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Falcomon": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "BlackGabumon": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Firm": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Friendship": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Seal of Spring": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Gomamon": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Doggymon": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Angoramon": {
                tiers: [0, 0.1, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Sangloupmon": {
                tiers: [0, 0.15, 0.3, 0.6, 0.9, 1.2, 1.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Waspmon": {
                tiers: [0, 0.15, 0.3, 0.6, 0.9, 1.2, 1.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Etemon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "MegaSeadramon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Vikaralamon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "TankDramon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Shakkoumon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Lilamon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "SkullMeramon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "ShineGreymon": {
                tiers: [0, 0.25, 0.5, 1, 1.5, 2, 2.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Ophanimon": {
                tiers: [0, 0.25, 0.5, 1, 1.5, 2, 2.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 300
            },
            "Z'dGarurumon": {
                tiers: [0, 0.25, 0.5, 1, 1.5, 2, 2.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "MagnaGarurumon": {
                tiers: [0, 0.25, 0.5, 1, 1.5, 2, 2.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 500
            },
            "13th Anniversary BL": {
                tiers: [0, 0.30, 0.6, 1.2, 1.8, 2.4, 3.0],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Fanglongmon": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Alphamon Ouryuken (Awaken)": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 150
            },
            "Gallantmon (Crimson Mode)": {
                tiers: [0, 0.4, 0.8, 1.6, 2.4, 3.2, 4],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Shoutmon X7 Superior Mode": {
                tiers: [0, 0.5, 1, 2, 3, 4, 5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 50
            },
            // EV Seals
            "Armadillomon": {
                tiers: [0, 0.2, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Impmon": {
                tiers: [0, 0.2, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Seal of Coolness": {
                tiers: [0, 0.2, 0.2, 0.4, 0.6, 0.8, 1],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Hagurumon": {
                tiers: [0, 0.15, 0.3, 0.6, 0.9, 1.2, 1.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Digmon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Veedramon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Gatomon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Allomon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Growlmon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Yasyamon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "BlackGatomon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Reppamon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 700
            },
            "Lopmon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Jellymon": {
                tiers: [0, 0.2, 0.4, 0.8, 1.2, 1.6, 2],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Holsmon": {
                tiers: [0, 0.25, 0.5, 1, 1.5, 2, 2.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 1000
            },
            "Lillymon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Mystimon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "NeoDevimon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Rapidmon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "SaviorHackmon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "MegaKabuterimon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Bastemon": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "13 Anniversary EV": {
                tiers: [0, 0.3, 0.6, 1.2, 1.8, 2.4, 3],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Dynasmon": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "DexDorugoramon": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Bokomon": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "MirageGaogamon": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Ravemon": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Justimon": {
                tiers: [0, 0.35, 0.7, 1.4, 2.1, 2.8, 3.5],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 300
            },
            "Rosemon (Burst Mode)": {
                tiers: [0, 0.4, 0.8, 1.6, 2.4, 3.2, 4],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            },
            "Marsmon": {
                tiers: [0, 0.4, 0.8, 1.6, 2.4, 3.2, 4],
                ranges: [0, 1, 50, 200, 500, 1000, 3000],
                max: 3000
            }
        };

        // Define los valores máximos para cada categoría de resumen
        const categoryMaximums = {
            "AT": "12750",
            "CT": "106.5%",
            "HT": "11200",
            "HP": "12150",
            "DS": "13600",
            "DE": "6230",
            "BL": "57%",
            "EV": "80%"
        };

        // Define las listas de nombres de sellos predefinidos por categoría
        const predefinedSealNames = {
            "AT": [
                "Tanemon", "Hawkmon", "Guilmon", "Patamon", "Mushroomon", "Monodramon", "PicoDevimon",
                "Passionate", "Environment", "New Semester", "Seal of Summer", "Aquilamon", "Turuiemon",
                "Shurimon", "BetelGammamon", "BlackGarurumon", "Chrysalimon", "Devimon", "Greymon",
                "ExV-mon", "Happy Christmas", "Blue Serpent", "Giromon", "Cherrymon", "MarineDevimon",
                "Myotismon", "Piccolomon", "Culumon", "Orochimon", "Silphymon", "Vegiemon",
                "Qinglongmon", "Examon", "Omegamon", "Dexmon", "VenomMyotismon", "Megidramon",
                "10th Year Anniversary", "11th Year Anniversary", "12th Year Anniversary", "13th Year Anniversary",
                "ImperialDramon Fighter Mode", "Machinedramon", "Chaosmon", "MirageGaogamon (Burst Mode)",
                "Boltboutamon", "Alphamon", "CresGarurumon", "Imperialdramon", "Siriusmon", "Kuzuhamon",
                "Omegamon X", "Gankoomon", "MetalGreymon"
            ],
            "CT": [
                "Koromon", "PawnChessmon B", "Lucemon", "Kunemon", "Sharmamon", "CommanDramon", "Lalamon",
                "Conversion", "Hope", "Kyuubimon", "Togemon", "Tylomon", "Gaogamon", "Last Seal of 2023",
                "Kiwimon", "KausGammamon", "Datamon", "Volcamon", "Vajiramon", "RizeGreymon",
                "Phantomon", "MagnaAngemon", "SaberLeomon", "MetalGarurumon", "Jesmon", "Alphamon (X-Antibody System)",
                "Mamemon", "BigMamemon", "AncientTroiamon", "Deltamon", "13th Anniversary CT", "ChaosPiedmon",
                "PrinceMamemon", "Ravemon (Burst Mode)", "ShadowSeraphimon", "Shoutmon X7", "Omegamon Zwart",
                "Shoutmon X2", "Alphamon Ouryuken X", "Kuzuhamon Miko Mode", "Omegamon - Merciful Mode"
            ],
            "HT": [
                "Drimogemon", "FanBeemon", "Gabumon", "Floramon", "Hackmon", "Seal of Marksman", "Exploration Seal",
                "Brave Seal", "Sprout", "Gammamon", "Coredramon (Blue)", "Dorugamon", "DarkTyrannomon",
                "Witchmon", "GeoGreymon", "Paildramon", "Tonosama Gekomon", "Starmon", "Garudamon",
                "Knightmon", "BlackWereGarurumon", "Crowmon", "MetalGreymon (Virus)", "Antylamon", "Blossomon",
                "Parasimon", "LordKnightmon", "Beelzebumon", "Rosemon", "Magnadramon", "Gryphonmon",
                "Duftmon", "Rafflesimon", "Baihumon", "Craniamon", "TyrantKabuterimon", "Belial Vamdemon",
                "Apocalymon", "Alphamon Ouryuken"
            ],
            "HP": [
                "Gazimon", "Keramon", "Tsunomon", "Otamamon", "Roachmon", "Dokunemon", "Veemon", "Gaomon",
                "Seal of heat", "Sincerity", "Grow Well", "Guardromon", "Kentarumon", "Soulmon",
                "ReptileDramon", "Raremon (Champion)", "Ikkakumon", "SunFlowmon", "Garurumon", "Ogremon",
                "Kokuwamon", "Sinduramon", "SkullSatamon", "Whamon", "Angewomon", "Seadramon",
                "Pumpkinmon", "DexDoruGreymon", "13th Anniversary HP", "Sakuyamon", "Valdurmon", "Boltmon",
                "Cherubimon (White)", "Ebonwumon", "UlforceVeedramon", "WarGreymon", "Lucemon (Satan Mode)",
                "BanchouLeomon", "MetalSeadramon", "ShineGreymon (Burst Mode)", "Susanoomon", "Omegamon Alter-S"
            ],
            "DS": [
                "DemiMeramon", "Agumon", "Candlemon", "ToyAgumon", "Dorumon", "Piyomon", "Gladimon",
                "Heat Wave", "Happiness", "Gekomon", "Betamon", "Coredramon (Green)", "Woodmon", "Gesomon",
                "Kabuterimon", "Yukidarumon", "Mikemon", "Peckmon", "Angemon", "Gawappamon", "Kudamon",
                "Psychemon", "Bakemon", "13th Anniversary DS", "Wizardmon", "Toucanmon", "Asuramon",
                "SkullGreymon", "WereGarurumon", "MachGaogamon", "Tyilinmon", "Taomon", "Baalmon",
                "Diablomon", "Puppetmon", "Piedmon", "GrandisKuwagamon", "Anubismon", "Lotusmon",
                "Plesiomon", "Zhuqiaomon"
            ],
            "DE": [
                "Upamon", "Elecmon", "Goblimon", "Renamon", "Kamemon", "Syakomon", "Palmon", "Armor",
                "Salamon", "PawnChessmon W", "Icemon", "Flymon", "Leomon", "Meramon", "Rockmon",
                "Monochromon", "Ankylomon", "Shellmon", "Thunderballmon", "BaoHackmon", "Mojyamon",
                "Labramon", "Gotsumon", "Flybeemon", "Meteormon", "WaruMonzaemon", "MetalTyrannomon",
                "JewelBeemon", "SuperStarmon", "OmegaShoutmon", "Chimairamon", "Sleipmon", "HerculesKabuterimon",
                "Seraphimon", "JumboGamemon", "Shoutmon DX", "13th Anniversary DE"
            ],
            "BL": [
                "Dracmon", "Tentomon", "Agumon (Starter)", "Falcomon", "BlackGabumon", "Firm", "Friendship",
                "Seal of Spring", "Gomamon", "Doggymon", "Angoramon", "Sangloupmon", "Waspmon", "Etemon",
                "MegaSeadramon", "Vikaralamon", "TankDramon", "Shakkoumon", "Lilamon", "SkullMeramon",
                "ShineGreymon", "Ophanimon", "Z'dGarurumon", "MagnaGarurumon", "13th Anniversary BL",
                "Fanglongmon", "Alphamon Ouryuken (Awaken)", "Gallantmon (Crimson Mode)", "Shoutmon X7 Superior Mode"
            ],
            "EV": [
                "Armadillomon", "Impmon", "Seal of Coolness", "Hagurumon", "Digmon", "Veedramon", "Gatomon",
                "Allomon", "Growlmon", "Yasyamon", "BlackGatomon", "Reppamon", "Lopmon", "Jellymon",
                "Holsmon", "Lillymon", "Mystimon", "NeoDevimon", "Rapidmon", "SaviorHackmon", "MegaKabuterimon",
                "Bastemon", "13 Anniversary EV", "Dynasmon", "DexDorugoramon", "Bokomon", "MirageGaogamon",
                "Ravemon", "Justimon", "Rosemon (Burst Mode)", "Marsmon"
            ]
        };

        // Obtiene referencias a los elementos del DOM.
        const menuDiv = document.getElementById("menuCategorias");
        const tabla = document.querySelector("#tablaInventario tbody");
        const summaryContainer = document.querySelector('.summary-container');
        const summaryTitle = document.getElementById('summaryTitle');
        const summaryMaximumSpan = document.getElementById('summaryMaximum');
        const summaryBonusTotalSpan = document.getElementById('summaryBonusTotal');
        const summaryValorObtenidoSpan = document.getElementById('summaryValorObtenido');
        const summaryValorFaltanteSpan = document.getElementById('summaryValorFaltante');


        // Crea los botones del menú de categorías dinámicamente.
        categorias.forEach(cat => {
            const btn = document.createElement("button");
            btn.innerText = cat; // Establece el texto del botón.
            btn.onclick = () => cambiarCategoria(cat); // Asigna la función para cambiar de categoría.
            btn.id = "btn-" + cat; // Asigna un ID único al botón.
            menuDiv.appendChild(btn); // Añade el botón al div del menú.
        });

        /**
         * Cambia la categoría actual del inventario.
         * @param {string} cat - La nueva categoría a la que cambiar.
         */
        function cambiarCategoria(cat) {
            categoriaActual = cat; // Actualiza la categoría actual.
            // Remueve la clase 'active' de todos los botones y la añade al botón de la categoría actual.
            document.querySelectorAll(".menu button").forEach(b => b.classList.remove("active"));
            document.getElementById("btn-" + cat).classList.add("active");
            cargarDatos(); // Carga los datos de la nueva categoría.
        }

        /**
         * Calcula el bonus para un sello dado su nombre y la cantidad obtenida.
         * @param {string} sealName - El nombre del sello.
         * @param {number} cantidad - La cantidad obtenida del sello.
         * @returns {number} El valor del bonus.
         */
        function calcularBonus(sealName, cantidad) {
            const rule = sealBonusRules[sealName];
            if (!rule) return 0; // Si no hay regla específica, el bonus es 0 por defecto

            for (let i = rule.ranges.length - 1; i >= 0; i--) {
                if (cantidad >= rule.ranges[i]) {
                    return rule.tiers[i];
                }
            }
            return 0;
        }

        /**
         * Función auxiliar para obtener la lista de sellos predefinidos por categoría.
         * @param {string} category - La categoría de sellos.
         * @returns {Array<Object>} Un array de objetos de sellos.
         */
        function getPredefinedSeals(category) {
            const seals = [];
            const names = predefinedSealNames[category];
            if (names) {
                names.forEach(sealName => {
                    const rule = sealBonusRules[sealName];
                    if (rule) { // Asegurarse de que la regla exista
                        seals.push({
                            nombreSello: sealName,
                            obtenida: 0,
                            max: rule.max,
                            bonusObtenido: 0,
                            valorSelloUnico: 0
                        });
                    }
                });
            }
            return seals;
        }

        /**
         * Formatea un valor numérico en una cadena con sufijos T, M, B.
         * @param {number} value - El valor a formatear.
         * @returns {string} El valor formateado.
         */
        function formatCurrency(value) {
            if (value === 0) return '0B';
            
            const T = 1000; // 1T = 1000M
            const M = 1;    // 1M = 1000B
            const B = 0.001; // 1B

            let remainingValue = value;
            let parts = [];

            const trillions = Math.floor(remainingValue / T);
            if (trillions > 0) {
                parts.push(trillions + 'T');
                remainingValue %= T;
            }

            const millions = Math.floor(remainingValue / M);
            if (millions > 0) {
                parts.push(millions + 'M');
                remainingValue %= M;
            }

            const billions = Math.round(remainingValue / B);
            if (billions > 0) {
                parts.push(billions + 'B');
            }

            return parts.length > 0 ? parts.join(' ') : '0B';
        }

        /**
         * Carga los datos del inventario para la categoría actual desde el almacenamiento local.
         */
        function cargarDatos() {
            // Intenta obtener los datos de la categoría actual del localStorage.
            let datosGuardados = JSON.parse(localStorage.getItem("inv_" + categoriaActual)) || [];
            
            // Usaremos un Map para fusionar los datos, preservando los sellos agregados por el usuario.
            const datosMap = new Map();

            // 1. Cargar los sellos predefinidos en el mapa para establecer el orden y los valores por defecto.
            const predefinedSeals = getPredefinedSeals(categoriaActual);
            predefinedSeals.forEach(seal => {
                datosMap.set(seal.nombreSello, seal);
            });

            // 2. Sobrescribir con los datos guardados y añadir los sellos nuevos.
            // Esto mantiene los datos del usuario y añade sellos que no estaban en la lista predefinida.
            datosGuardados.forEach(savedSeal => {
                // Si el sello ya existe (es predefinido), actualizamos sus datos guardados.
                // Si no existe, lo añadimos al mapa.
                const sealData = datosMap.get(savedSeal.nombreSello) || {};
                datosMap.set(savedSeal.nombreSello, {
                    ...sealData, // Mantiene propiedades como 'max' si es predefinido
                    ...savedSeal // Sobrescribe con los datos guardados (obtenida, valorSelloUnico, etc.)
                });
            });

            // Convertir el mapa de nuevo a un array para cargarlo en la tabla.
            const datosACargar = Array.from(datosMap.values());

            // Guardar la lista fusionada de nuevo en localStorage para asegurar la consistencia
            localStorage.setItem("inv_" + categoriaActual, JSON.stringify(datosACargar));

            tabla.innerHTML = ""; // Limpia la tabla antes de cargar nuevos datos.

            // Itera sobre los datos a cargar y crea una nueva fila en la tabla para cada elemento.
            datosACargar.forEach(item => {
                const fila = tabla.insertRow();
                fila.insertCell().innerText = item.nombreSello;
                fila.cells[0].setAttribute('contenteditable', 'true');
                fila.cells[0].setAttribute('data-label', 'Nombre:'); // For mobile view

                const cantidadObtenidaCell = fila.insertCell(); // Get a reference to the cell
                cantidadObtenidaCell.innerText = item.obtenida;
                cantidadObtenidaCell.setAttribute('contenteditable', 'true'); // Explicitly make it editable
                cantidadObtenidaCell.setAttribute('data-label', 'Obtenida:'); // For mobile view
                
                // La Cantidad Max se toma del item.max guardado o del default 3000
                fila.insertCell().innerText = item.max || 3000;
                fila.cells[2].setAttribute('contenteditable', 'true');
                fila.cells[2].setAttribute('data-label', 'Max:'); // For mobile view
                
                // Celdas calculadas (no editables)
                fila.insertCell().setAttribute('contenteditable', 'false'); // Cantidad Faltante
                fila.cells[3].setAttribute('data-label', 'Faltante:'); // For mobile view
                fila.insertCell().setAttribute('contenteditable', 'false'); // ¿Completada?
                fila.cells[4].setAttribute('data-label', '¿Completada?:'); // For mobile view
                
                // Bonus Obtenido
                const bonusCell = fila.insertCell();
                bonusCell.innerText = item.bonusObtenido || 0;
                bonusCell.setAttribute('data-label', 'Bonus:'); // For mobile view
                
                // Celda de Valor Sello Único (editable)
                fila.insertCell().innerText = item.valorSelloUnico || 0;
                fila.cells[6].setAttribute('contenteditable', 'true'); // Explicitly make it editable
                fila.cells[6].setAttribute('data-label', 'Valor Único:'); // For mobile view

                // Celda calculada (no editable) para Valor Obtenido
                fila.insertCell().setAttribute('contenteditable', 'false');
                fila.cells[7].setAttribute('data-label', 'Valor Obtenido:');

                // Celda calculada (no editable)
                fila.insertCell().setAttribute('contenteditable', 'false'); // Valor Sellos Faltantes
                fila.cells[8].setAttribute('data-label', 'Valor Faltante:'); // For mobile view
            });

            actualizarTabla(); // Llama a actualizarTabla para calcular y mostrar los datos derivados.
        }

        /**
         * Guarda los datos actuales de la tabla en el almacenamiento local para la categoría actual.
         */
        function guardarDatos() {
            const datos = [];

            // Itera sobre cada fila de la tabla para extraer sus datos.
            for (let i = 0; i < tabla.rows.length; i++) {
                const fila = tabla.rows[i];
                const nombreSello = fila.cells[0].innerText.trim();
                // Asegurarse de limpiar el texto antes de convertirlo a número
                const obtenida = Number(fila.cells[1].innerText.trim()) || 0; 
                // La Cantidad Max se lee de la tabla (puede haber sido pre-cargada con un valor específico)
                const max = Number(fila.cells[2].innerText) || 3000;
                
                // Obtener el valor de Bonus Obtenido (calculado si hay regla, manual si no)
                const bonusObtenido = sealBonusRules[nombreSello] ? calcularBonus(nombreSello, obtenida) : (Number(fila.cells[5].innerText) || 0);
                
                // Usar parseFloat y reemplazar coma por punto para Valor Sello Único
                const valorSelloUnico = Number(fila.cells[6].innerText.replace(',', '.')) || 0;

                // Añade un objeto con los datos de la fila al array de datos.
                datos.push({
                    nombreSello,
                    obtenida,
                    max,
                    bonusObtenido,
                    valorSelloUnico
                });
            }

            // Guarda el array de datos como una cadena JSON en localStorage.
            localStorage.setItem("inv_" + categoriaActual, JSON.stringify(datos));

            // Mostrar mensaje de guardado
            const saveMessage = document.getElementById('saveMessage');
            saveMessage.classList.add('show');
            setTimeout(() => {
                saveMessage.classList.remove('show');
            }, 2000); // Ocultar después de 2 segundos
        }

        /**
         * Actualiza los cálculos y el estado visual de la tabla.
         */
        function actualizarTabla() {
            let totalBonusObtenido = 0; // Inicializa el total de bonus
            let totalValorObtenido = 0; // Inicializa el total de valor obtenido
            let totalValorFaltante = 0; // Inicializa el total de valor faltante

            // Itera sobre cada fila de la tabla para recalcular los valores.
            for (let fila of tabla.rows) {
                const nombreSello = fila.cells[0].innerText.trim();

                // Si las celdas numéricas editables están vacías, se establece su valor a '0'.
                if (fila.cells[1].innerText.trim() === '') fila.cells[1].innerText = '0';
                if (fila.cells[2].innerText.trim() === '') fila.cells[2].innerText = '0';
                if (fila.cells[6].innerText.trim() === '') fila.cells[6].innerText = '0';

                const obtenida = Number(fila.cells[1].innerText) || 0;
                // La Cantidad Max se lee de la tabla
                const max = Number(fila.cells[2].innerText) || 3000;
                
                // Los valores de valorSelloUnico se leen para el cálculo de Valor Sellos Faltantes
                // Usar parseFloat y reemplazar coma por punto para Valor Sello Único
                const valorSelloUnico = Number(fila.cells[6].innerText.replace(',', '.')) || 0;

                const faltante = Math.max(max - obtenida, 0); // Calcula la cantidad faltante.
                const estado = obtenida >= max ? "Completado" : "Falta"; // Determina el estado.

                // Calcular Bonus Obtenido
                const bonusCell = fila.cells[5];
                let bonusActualParaSuma = 0; // Variable para sumar al total
                if (sealBonusRules[nombreSello]) {
                    bonusActualParaSuma = calcularBonus(nombreSello, obtenida);
                    bonusCell.innerText = bonusActualParaSuma;
                    bonusCell.setAttribute('contenteditable', 'false'); // Hacerla no editable si tiene regla
                } else {
                    if (bonusCell.innerText.trim() === '') bonusCell.innerText = '0';
                    bonusActualParaSuma = Number(bonusCell.innerText) || 0;
                    bonusCell.setAttribute('contenteditable', 'true'); // Asegurar que sea editable si no tiene regla
                }
                totalBonusObtenido += bonusActualParaSuma; // Sumar al total

                // Calcula el Valor de Sellos Obtenidos.
                let valorSellosObtenidos = obtenida * valorSelloUnico;
                totalValorObtenido += valorSellosObtenidos; // Sumar al total
                const valorObtenidoFormateado = formatCurrency(valorSellosObtenidos);

                // Calcula el Valor de Sellos Faltantes.
                let valorSellosFaltantes = faltante * valorSelloUnico;
                totalValorFaltante += valorSellosFaltantes; // Sumar al total
                const valorFaltanteFormateado = formatCurrency(valorSellosFaltantes);
                
                // Actualiza el contenido de las celdas con los valores calculados.
                fila.cells[3].innerText = faltante;
                fila.cells[4].innerText = estado;
                // Aplica la clase CSS para el color del estado.
                fila.cells[4].className = obtenida >= max ? "completado" : "falta";
                fila.cells[7].innerText = valorObtenidoFormateado; // Muestra el valor obtenido formateado
                fila.cells[8].innerText = valorFaltanteFormateado; // Muestra el valor faltante formateado
            }

            // Actualizar y mostrar/ocultar el resumen
            if (categoryMaximums[categoriaActual]) {
                summaryContainer.style.display = 'block';
                summaryTitle.innerText = `Resumen de ${categoriaActual}`;
                summaryMaximumSpan.innerText = categoryMaximums[categoriaActual];
                // Formatear el total de bonus si la categoría es de porcentaje
                if (categoryMaximums[categoriaActual].includes('%')) {
                    summaryBonusTotalSpan.innerText = totalBonusObtenido.toFixed(2) + "%";
                } else {
                    summaryBonusTotalSpan.innerText = totalBonusObtenido;
                }
                summaryValorObtenidoSpan.innerText = formatCurrency(totalValorObtenido);
                summaryValorFaltanteSpan.innerText = formatCurrency(totalValorFaltante);
            } else {
                summaryContainer.style.display = 'none';
                summaryMaximumSpan.innerText = "";
                summaryValorObtenidoSpan.innerText = "";
                summaryBonusTotalSpan.innerText = "";
                summaryValorFaltanteSpan.innerText = "";
            }

            // Guardamos los datos después de cada actualización para persistir los cambios.
            guardarDatos();
        }

        /**
         * Agrega una nueva fila (producto/sello) a la tabla.
         */
        function agregarFila() {
            // Obtiene los valores de los campos de entrada.
            const nombreSello = document.getElementById("nombreSello").value.trim() || "Nuevo Sello";
            const obtenida = Number(document.getElementById("nuevaCantidad").value) || 0;
            // La Cantidad Max ahora se toma del input, por defecto 3000
            const max = Number(document.getElementById("nuevaMax").value) || 3000;
            
            // Usar parseFloat y reemplazar coma por punto para Valor Sello Único
            const valorSelloUnico = Number(document.getElementById("valorSelloUnico").value.replace(',', '.')) || 0;

            const fila = tabla.insertRow(); // Inserta una nueva fila.
            fila.insertCell().innerText = nombreSello;
            fila.insertCell().innerText = obtenida;
            fila.insertCell().innerText = max; // Muestra la cantidad máxima
            
            // Celdas calculadas (no editables)
            fila.insertCell().setAttribute('contenteditable', 'false'); // Cantidad Faltante
            fila.insertCell().setAttribute('contenteditable', 'false'); // ¿Completada?
            
            // Bonus Obtenido: se inicializa con 0, pero se recalculará si tiene una regla
            const bonusCell = fila.insertCell();
            bonusCell.innerText = 0; // Inicializar en 0
            
            // Celda de Valor Sello Único (editable)
            fila.insertCell().innerText = valorSelloUnico;
            
            // Celda calculada (no editable)
            fila.insertCell().setAttribute('contenteditable', 'false'); // Valor Sellos Obtenidos

            // Celda calculada (no editable)
            fila.insertCell().setAttribute('contenteditable', 'false'); // Valor Sellos Faltantes

            actualizarTabla(); // Actualiza la tabla para calcular los nuevos valores.

            // Limpia los campos del formulario después de agregar la fila.
            document.getElementById("nombreSello").value = '';
            document.getElementById("nuevaCantidad").value = '';
            document.getElementById("nuevaMax").value = '3000'; // Restablece a 3000 por si acaso
            document.getElementById("valorSelloUnico").value = '';
        }

        // Añade un listener al cuerpo de la tabla para detectar ediciones manuales y actualizar.
        tabla.addEventListener("blur", actualizarTabla, true); // Usar 'blur' para guardar al perder el foco

        // Previene los saltos de línea (interlineado) en las celdas editables.
        tabla.addEventListener('keydown', function(event) {
            // Si la tecla presionada es 'Enter' y el objetivo es una celda editable.
            if (event.key === 'Enter' && event.target.isContentEditable) {
                // Previene la acción por defecto (insertar un <div> o <br>).
                event.preventDefault();
                // Quita el foco de la celda, lo que dispara el evento 'blur' para guardar los cambios.
                event.target.blur();
            }
        });

        // Evita que cualquier elemento de la página pueda ser arrastrado.
        document.addEventListener('dragstart', (e) => {
            e.preventDefault();
        });

        // Inicializa el sistema cargando la primera categoría al cargar la página.
        cambiarCategoria("AT");
    </script>

</body>
</html>
